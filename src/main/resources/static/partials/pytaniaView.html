<!--<div class="col-sm-8">-->
<div ng-class="(M.showtypepanel?'col-sm-8':'col-sm-12')">

    <div class="card">

        <h3 class="card-header bg-info text-white">
            Pytania
        </h3>

        <div class="card-body" >
            <p>Pytania egzaminacyjne w systemie
            </p>

            <input ng-model="fff" placeholder="Filtruj..." class="iinput narrow-free2">

            <table class="table table-hover table-sm">
                <thead>
                <tr>
                    <th width="2%"> Qid</th>
                    <th width="25%"> Text</th>
                    <th width="5%"> A1</th>
                    <th width="5%"> A2</th>
                    <th width="5%"> A3</th>
                    <th width="15%"> typ
                        <span class="fa fa-eye clickable"
                              title="Pokaż/edytuj typy pytań"
                              ng-click="M.showtypepanel=!M.showtypepanel"></span>
                    </th>
                    <th width="2%">action</th>
                    <th width="2%">catId</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in M.questions | filter:fff">
                    <td> {{item.qid}}
                    </td>
                    <td class="clickable">
                        <input type="text" ng-model="item.text" class="form-control form-control-sm"
                               ng-attr-title="{{item.text}}"
                               placeholder="Treść pytania">
                    </td>
                    <td ng-dblclick="item.correct=1" >
                        <input ng-model="item.answer1"
                               ng-class="(item.correct==1?'bg-success':'bg-white')"
                               class="form-control form-control-sm"
                        >
                    </td>
                    <td ng-dblclick="item.correct=2">
                        <input ng-model="item.answer2"
                               ng-class="(item.correct==2?'bg-success':'bg-white')"
                               class="form-control form-control-sm"
                        >
                    </td>
                    <td ng-dblclick="item.correct=3">
                        <input ng-model="item.answer3"
                               ng-class="(item.correct==3?'bg-success':'bg-white')"
                               class="form-control form-control-sm"
                        >
                    </td>
                    <td>
                        <select class="form-control"
                                ng-model="item.typeid"
                                ng-options="typ.qtid as typ.description for typ in  M.types"></select>
                    </td>
                    <td>
                        <h5>
                        <span class="fa fa-save clickable" ng-click="saveQuestion(item)"></span>
                        <span class="fa fa-trash clickable text-danger" ng-click="deleteQuestion(item)"></span>
                        </h5>
                    </td>
                    <td>
                        {{item.typeid}}
                    </td>
                </tr>
                </tbody>
            </table>

        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-default" ng-click="loadQuestions()">reload</button>
            <button type="button" class="btn btn-default" ng-click="saveAllQuestions()">zapisz wszystkie</button>
            <button type="button" class="btn btn-default" ng-click="addQuestion()">dodaj pytanie</button>
        </div>
        <span>
            {{M.questions}}
        </span>
    </div>



</div>

<div class="col-sm-4" ng-if="M.showtypepanel">
    <div class="card" >

        <h3 class="card-header card-title bg-primary text-white">
            Typy pytań
        </h3>

        <div class="card-body" >
            <p>Typy pytań w systemie: </p>
            <input ng-model="fff" placeholder="Filtruj..." class="iinput narrow-free2"/>

            <table class="table table-bordered table-sm">
                <thead>
                <tr>
                    <td class="col-sm-1"> qtid</td>
                    <td class="col-sm-10"> opis</td>
                    <td class="col-sm"> action</td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in M.types">
                    <td>{{item.qtid}}</td>
                    <td>
                        <input type="text" ng-model="item.description" class="form-control form-control-sm"/>
                    </td>
                    <td>
                        <span class="fa fa-save clickable" ng-click="saveType(item)"></span>

                        <span class="fa fa-trash clickable text-danger" ng-click="deleteType(item)"
                            ng-attr-title="Usuń typ #{{item.qtid}}"></span>
                    </td>
                </tr>
                </tbody>
            </table>
            <p class="text-right">
                <button type="button" class="btn btn-default" ng-click="M.types.push({})" title="Dodaj kategorię pytań">
                    <span class="fa fa-plus"></span>
                </button>
            </p>
        </div>

        <div class="card-footer">
            <button type="button" class="btn btn-default" ng-click="loadTypes()" title="Wczytaj aktualną listę pytań"> <span class="fa fa-refresh"></span>
            </button>
            <button type="button" class="btn btn-default" ng-click="saveAllTypes()">zapisz wszystkie</button>
        </div>
    </div>

</div>